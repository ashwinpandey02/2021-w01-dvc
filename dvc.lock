schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data/external/heart.csv
      md5: 0691643e62f74624d19253d61990b74b
      size: 11323
    - path: params.yaml
      md5: 7dc38bdf8fd0718573bb86f6b0ed4fba
      size: 496
    - path: src/get_data.py
      md5: 09554b99a6e7e2d45b8b3040ea8a4596
      size: 1212
    - path: src/load_data.py
      md5: fb3f142ea81068fc6d5e728ede01a515
      size: 1134
    outs:
    - path: data/raw/heart.csv
      md5: 7f7e38960a3a094106e6c308b9c67e26
      size: 11279
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/raw/heart.csv
      md5: 7f7e38960a3a094106e6c308b9c67e26
      size: 11279
    - path: params.yaml
      md5: 7dc38bdf8fd0718573bb86f6b0ed4fba
      size: 496
    - path: src/split_data.py
      md5: 3d9122832543434ea40f29f23fed300b
      size: 1457
    params:
      params.yaml:
        split_data.test_size: 0.2
    outs:
    - path: data/processed/test_heart.csv
      md5: 980b334a771714571570ca8de7386bae
      size: 2333
    - path: data/processed/train_heart.csv
      md5: 6ebb9db6cb1c0d1fa47d22ada72644f4
      size: 9024
  train_and_evaluate:
    cmd:
    - python src/train_and_evaluate.py --config=params.yaml
    - dvc plots show
    deps:
    - path: data/processed/test_heart.csv
      md5: 980b334a771714571570ca8de7386bae
      size: 2333
    - path: data/processed/train_heart.csv
      md5: 6ebb9db6cb1c0d1fa47d22ada72644f4
      size: 9024
    - path: params.yaml
      md5: 7dc38bdf8fd0718573bb86f6b0ed4fba
      size: 496
    - path: src/train_and_evaluate.py
      md5: 01a6a13b6f6f8269cb7d76928f83f040
      size: 4774
    params:
      params.yaml:
        train_and_evaluate.model: random_forest
    outs:
    - path: cm.csv
      md5: 878d8bac11a175102099d9feeb0dac98
      size: 261
    - path: models/model.joblib
      md5: a860af05923c37d9abed5829ffb64bf3
      size: 332652
    - path: report/prc.json
      md5: 106bd16acfc654e25439dc9803904cf4
      size: 276
    - path: report/roc.json
      md5: ad22d546bb574d81a27c04d5596f3237
      size: 324
    - path: report/scores.json
      md5: f17d655c9542c4ca90a6df85bc9f1561
      size: 357
